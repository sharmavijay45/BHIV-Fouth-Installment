2025-07-30 12:10:00,245 - INFO - reinforcement.replay_buffer - Loaded replay buffer from logs/learning_log.json
2025-07-30 12:10:00,254 - INFO - agents.agent_registry - Loaded 8 agents from config/agent_configs.json
2025-07-30 12:10:00,268 - INFO - utils.mongo_logger - MongoDB logger initialized successfully
2025-07-30 12:10:17,636 - INFO - utils.file_utils - SecureFileAccess initialized with paths: ['C:\\Users\\abc1\\Downloads\\BHIV-Third-Installment', 'C:\\mnt\\vedabase', '\\\\nas\\vedabase', 'Z:\\vedabase'], read_only: True
2025-07-30 12:10:17,639 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-07-30 12:10:17,640 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-07-30 12:10:22,267 - INFO - utils.file_based_retriever - FileBasedRetriever initialized with SentenceTransformer
2025-07-30 12:10:22,306 - INFO - utils.file_based_retriever - Loaded knowledge base from cache: 136 chunks
2025-07-30 12:10:22,536 - INFO - __main__ - Initialized Groq model: llama3-8b-8192 for ask-vedas
2025-07-30 12:10:22,551 - INFO - __main__ - Initialized Groq model: llama3-8b-8192 for edumentor
2025-07-30 12:10:22,567 - INFO - __main__ - Initialized Groq model: llama3-8b-8192 for wellness
2025-07-30 12:10:22,567 - INFO - __main__ - Initializing embedding model...
2025-07-30 12:10:22,569 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-07-30 12:10:22,569 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-07-30 12:10:25,412 - INFO - __main__ - Initialized with 0 vector stores
2025-07-30 12:10:29,597 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-07-30 12:10:29,597 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-07-30 12:10:32,392 - INFO - agents.KnowledgeAgent - KnowledgeAgent initialized with both file-based and Qdrant support
2025-07-30 12:10:32,424 - INFO - __main__ - Starting Simple Orchestration API...
2025-07-30 12:10:32,425 - INFO - __main__ - Initializing embedding model...
2025-07-30 12:10:32,426 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-07-30 12:10:32,426 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-07-30 12:10:35,640 - INFO - __main__ - Initialized with 0 vector stores
2025-07-30 12:10:35,640 - INFO - __main__ - Simple Orchestration API ready!
2025-07-30 12:10:42,311 - INFO - reinforcement.replay_buffer - Loaded replay buffer from logs/learning_log.json
2025-07-30 12:10:42,313 - INFO - __main__ - RL Configuration: use_rl=True, exploration_rate=0.2
2025-07-30 12:10:44,356 - INFO - mcp_bridge - [MCP_BRIDGE] Task ID: 60365be9-a4b9-4294-82c5-93eb7fcf14a2 | Agent: vedas_agent | Input: what is life... | File:  | Type: text | Tags: []
2025-07-30 12:10:44,356 - INFO - reinforcement.agent_selector - No history: selected wellness_agent for task 60365be9-a4b9-4294-82c5-93eb7fcf14a2
2025-07-30 12:10:44,356 - INFO - reinforcement.rl_context - Logged RL action: {'task_id': '60365be9-a4b9-4294-82c5-93eb7fcf14a2', 'agent': 'wellness_agent', 'model': 'none', 'action': 'select_agent', 'metadata': {'task': 'process', 'input_type': 'text'}, 'timestamp': '2025-07-30T12:10:44.356132'}
2025-07-30 12:10:44,357 - INFO - agents.agent_registry - RL selected agent: wellness_agent for task: process
2025-07-30 12:10:47,880 - INFO - httpx - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-30 12:10:47,987 - ERROR - utils.mongo_logger - Error logging task execution: E11000 duplicate key error collection: bhiv_core.task_logs index: _id_ dup key: { _id: ObjectId('6889be6fc5fab32fba83158e') }, full error: {'index': 0, 'code': 11000, 'errmsg': "E11000 duplicate key error collection: bhiv_core.task_logs index: _id_ dup key: { _id: ObjectId('6889be6fc5fab32fba83158e') }", 'keyPattern': {'_id': 1}, 'keyValue': {'_id': ObjectId('6889be6fc5fab32fba83158e')}}
2025-07-30 12:10:47,988 - INFO - reinforcement.reward_functions - Computed reward 1.5 for task 60365be9-a4b9-4294-82c5-93eb7fcf14a2
2025-07-30 12:10:47,988 - INFO - reinforcement.rl_context - Logged RL reward: {'task_id': '60365be9-a4b9-4294-82c5-93eb7fcf14a2', 'reward': 1.5, 'metrics': {'clarity_score': 1.0, 'tag_count': 0, 'status': 200}, 'timestamp': '2025-07-30T12:10:47.988722'}
2025-07-30 12:10:47,993 - INFO - reinforcement.replay_buffer - Saved replay buffer to logs/learning_log.json
2025-07-30 12:10:47,994 - INFO - reinforcement.replay_buffer - Added run to replay buffer: 60365be9-a4b9-4294-82c5-93eb7fcf14a2
2025-07-30 12:10:47,994 - INFO - reinforcement.rl_context - Logged RL task: {'task_id': '60365be9-a4b9-4294-82c5-93eb7fcf14a2', 'input': 'what is life', 'output': {'query_id': 'df805324-413d-49e2-9a58-a912f9e36340', 'query': 'what is life', 'response': "Dear one, I'm so glad you're seeking guidance on what life is all about. It's a question that has puzzled many of us, and it's completely normal to feel uncertain or overwhelmed.\n\nFirst and foremost, please know that you're not alone in this inquiry. We're all on this journey together, and it's okay to ask for help and guidance. As your wellness counselor, I'm here to support and empower you.\n\nSo, what is life? Well, my friend, life is a complex and multifaceted tapestry that's woven from threads of joy, sorrow, beauty, and struggle. It's a journey that's full of twists and turns, ups and downs, and moments of wonder and awe.\n\nLife is a series of experiences, emotions, and interactions that shape us into the unique individuals we are today. It's a time of growth, learning, and exploration, where we get to discover our passions, values, and purpose.\n\nBut, what does it mean to truly live? Ah, that's the million-dollar question! Living life to the fullest means embracing every moment, no matter how big or small, with intention, purpose, and presence. It means letting go of fear, doubt, and anxiety, and instead, embracing curiosity, creativity, and courage.\n\nHere are some practical tips to help you cultivate a deeper sense of life and living:\n\n1. **Practice mindfulness**: Take time to pause, breathe, and be present in the moment. Pay attention to your thoughts, emotions, and surroundings without judgment. This will help you stay grounded and focused.\n2. **Embrace impermanence**: Life is constantly changing, and nothing lasts forever. Embracing impermanence can help you let go of attachment and fear, and instead, cultivate a sense of acceptance and gratitude.\n3. **Connect with nature**: Spend time outdoors, in nature, and connect with the rhythms and cycles of the earth. This can help you feel more grounded, centered, and connected to the world around you.\n4. **Practice self-care**: Take care of your physical, emotional, and spiritual well-being. This includes getting enough rest, eating nourishing foods, exercising regularly, and engaging in activities that bring you joy and fulfillment.\n5. **Cultivate gratitude**: Focus on the good things in your life, no matter how small they may seem. Practice gratitude by writing in a journal, sharing with friends, or simply taking a moment to acknowledge the blessings in your life.\n\nRemember, my friend, life is a journey, not a destination. It's a series of experiences, emotions, and interactions that shape us into the unique individuals we are today. By embracing the present moment, cultivating mindfulness, and practicing self-care, you can live a life that is full, rich, and meaningful.\n\nI hope these words of wisdom have been helpful and encouraging. Remember, you are not alone in this journey, and I'm here to support and guide you every step of the way.", 'sources': [], 'timestamp': '2025-07-30T12:10:47.910978', 'endpoint': 'wellness', 'status': 200}, 'agent': 'wellness_agent', 'model': 'vedas_agent', 'timestamp': '2025-07-30T12:10:47.994814'}
2025-07-30 12:10:47,995 - INFO - reinforcement.rl_context - Logged RL action: {'task_id': '60365be9-a4b9-4294-82c5-93eb7fcf14a2', 'agent': 'wellness_agent', 'model': 'vedas_agent', 'action': 'process_task', 'metadata': {'input_type': 'text', 'tags': []}, 'timestamp': '2025-07-30T12:10:47.995834'}
2025-07-30 12:10:47,996 - INFO - __main__ - CLI task completed in 5.68s: 60365be9-a4b9-4294-82c5-93eb7fcf14a2
2025-07-30 12:10:47,996 - INFO - reinforcement.reward_functions - Computed reward 1.5 for task 60365be9-a4b9-4294-82c5-93eb7fcf14a2
2025-07-30 12:10:47,996 - INFO - reinforcement.rl_context - Logged RL reward: {'task_id': '60365be9-a4b9-4294-82c5-93eb7fcf14a2', 'reward': 1.5, 'metrics': {'clarity_score': 1.0, 'tag_count': 0, 'status': 200}, 'timestamp': '2025-07-30T12:10:47.996949'}
2025-07-30 12:10:48,003 - INFO - reinforcement.replay_buffer - Saved replay buffer to logs/learning_log.json
2025-07-30 12:10:48,003 - INFO - reinforcement.replay_buffer - Added run to replay buffer: 60365be9-a4b9-4294-82c5-93eb7fcf14a2
2025-07-30 12:10:48,003 - INFO - reinforcement.rl_context - Logged RL task: {'task_id': '60365be9-a4b9-4294-82c5-93eb7fcf14a2', 'input': 'what is life', 'output': {'query_id': 'df805324-413d-49e2-9a58-a912f9e36340', 'query': 'what is life', 'response': "Dear one, I'm so glad you're seeking guidance on what life is all about. It's a question that has puzzled many of us, and it's completely normal to feel uncertain or overwhelmed.\n\nFirst and foremost, please know that you're not alone in this inquiry. We're all on this journey together, and it's okay to ask for help and guidance. As your wellness counselor, I'm here to support and empower you.\n\nSo, what is life? Well, my friend, life is a complex and multifaceted tapestry that's woven from threads of joy, sorrow, beauty, and struggle. It's a journey that's full of twists and turns, ups and downs, and moments of wonder and awe.\n\nLife is a series of experiences, emotions, and interactions that shape us into the unique individuals we are today. It's a time of growth, learning, and exploration, where we get to discover our passions, values, and purpose.\n\nBut, what does it mean to truly live? Ah, that's the million-dollar question! Living life to the fullest means embracing every moment, no matter how big or small, with intention, purpose, and presence. It means letting go of fear, doubt, and anxiety, and instead, embracing curiosity, creativity, and courage.\n\nHere are some practical tips to help you cultivate a deeper sense of life and living:\n\n1. **Practice mindfulness**: Take time to pause, breathe, and be present in the moment. Pay attention to your thoughts, emotions, and surroundings without judgment. This will help you stay grounded and focused.\n2. **Embrace impermanence**: Life is constantly changing, and nothing lasts forever. Embracing impermanence can help you let go of attachment and fear, and instead, cultivate a sense of acceptance and gratitude.\n3. **Connect with nature**: Spend time outdoors, in nature, and connect with the rhythms and cycles of the earth. This can help you feel more grounded, centered, and connected to the world around you.\n4. **Practice self-care**: Take care of your physical, emotional, and spiritual well-being. This includes getting enough rest, eating nourishing foods, exercising regularly, and engaging in activities that bring you joy and fulfillment.\n5. **Cultivate gratitude**: Focus on the good things in your life, no matter how small they may seem. Practice gratitude by writing in a journal, sharing with friends, or simply taking a moment to acknowledge the blessings in your life.\n\nRemember, my friend, life is a journey, not a destination. It's a series of experiences, emotions, and interactions that shape us into the unique individuals we are today. By embracing the present moment, cultivating mindfulness, and practicing self-care, you can live a life that is full, rich, and meaningful.\n\nI hope these words of wisdom have been helpful and encouraging. Remember, you are not alone in this journey, and I'm here to support and guide you every step of the way.", 'sources': [], 'timestamp': '2025-07-30T12:10:47.910978', 'endpoint': 'wellness', 'status': 200}, 'agent': 'vedas_agent', 'model': 'vedas_agent', 'timestamp': '2025-07-30T12:10:48.003055'}
2025-07-30 12:11:45,996 - INFO - reinforcement.replay_buffer - Loaded replay buffer from logs/learning_log.json
2025-07-30 12:11:45,999 - INFO - __main__ - RL Configuration: use_rl=True, exploration_rate=0.2
2025-07-30 12:11:45,999 - INFO - __main__ - Processing file: Task1.pdf with type: pdf
2025-07-30 12:11:48,075 - INFO - mcp_bridge - [MCP_BRIDGE] Task ID: be09eac5-9a9b-4f08-b526-d5802be2fdbc | File uploaded: Task1.pdf -> C:\Users\abc1\AppData\Local\Temp\tmpvz5p_1ez.pdf
2025-07-30 12:11:48,075 - INFO - mcp_bridge - [MCP_BRIDGE] Task ID: ef34ee64-940b-4c94-8ab5-fd8ef69b28b0 | Agent: edumentor_agent | Input: Main points of pdf given... | File: C:\Users\abc1\AppData\Local\Temp\tmpvz5p_1ez.pdf | Type: pdf | Tags: []
2025-07-30 12:11:48,076 - INFO - reinforcement.agent_selector - No history: selected archive_agent for task ef34ee64-940b-4c94-8ab5-fd8ef69b28b0
2025-07-30 12:11:48,076 - INFO - reinforcement.rl_context - Logged RL action: {'task_id': 'ef34ee64-940b-4c94-8ab5-fd8ef69b28b0', 'agent': 'archive_agent', 'model': 'none', 'action': 'select_agent', 'metadata': {'task': 'process', 'input_type': 'pdf'}, 'timestamp': '2025-07-30T12:11:48.076675'}
2025-07-30 12:11:48,076 - INFO - agents.agent_registry - RL selected agent: archive_agent for task: process
2025-07-30 12:11:48,622 - INFO - agents.archive_agent - ArchiveAgent starting task ef34ee64-940b-4c94-8ab5-fd8ef69b28b0 with input_type: pdf, model: edumentor_agent
2025-07-30 12:11:48,783 - INFO - agents.archive_agent - Extracted 13152 characters from PDF: C:\Users\abc1\AppData\Local\Temp\tmpvz5p_1ez.pdf
2025-07-30 12:11:48,784 - INFO - agents.archive_agent - Task ef34ee64-940b-4c94-8ab5-fd8ef69b28b0 - Extracted 13152 characters from PDF
2025-07-30 12:11:48,784 - INFO - agents.archive_agent - Processing PDF (attempt 1/3) for task ef34ee64-940b-4c94-8ab5-fd8ef69b28b0
2025-07-30 12:11:50,161 - INFO - httpx - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-30 12:11:50,172 - INFO - agents.archive_agent - PDF processing successful for task ef34ee64-940b-4c94-8ab5-fd8ef69b28b0 in 1.39s
2025-07-30 12:11:50,172 - INFO - reinforcement.reward_functions - Computed reward 1.69 for task ef34ee64-940b-4c94-8ab5-fd8ef69b28b0
2025-07-30 12:11:50,172 - INFO - reinforcement.rl_context - Logged RL reward: {'task_id': 'ef34ee64-940b-4c94-8ab5-fd8ef69b28b0', 'reward': 1.69, 'metrics': {'clarity_score': 0.98, 'tag_count': 2, 'status': 200}, 'timestamp': '2025-07-30T12:11:50.172841'}
2025-07-30 12:11:50,177 - INFO - reinforcement.replay_buffer - Saved replay buffer to logs/learning_log.json
2025-07-30 12:11:50,178 - INFO - reinforcement.replay_buffer - Added run to replay buffer: ef34ee64-940b-4c94-8ab5-fd8ef69b28b0
2025-07-30 12:11:50,178 - INFO - reinforcement.rl_context - Logged RL task: {'task_id': 'ef34ee64-940b-4c94-8ab5-fd8ef69b28b0', 'input': 'C:\\Users\\abc1\\AppData\\Local\\Temp\\tmpvz5p_1ez.pdf', 'output': {'result': 'Here is a summary of the text in 50-100 words:\n\nA 6-day sprint plan, "BHIV Core + Reinforcement Intelligence Layer," aims to integrate a reinforcement learning (RL) layer into the existing BHIV pipeline. The RL layer will track and log decisions, track rewards, and enable learning from day one without disrupting the normal flow. Components will be integrated as follows: Nisarg (Agent Router), Vijay (LLM Selector), and Nipun (Learning Adapter) will each add RL-related functionality. By the end of the sprint, the full multimodal pipeline with RL integration will be built, enabling learning and decision-making from day one.', 'model': 'archive_agent', 'tokens_used': 1965, 'cost_estimate': 0.0, 'status': 200, 'keywords': ['pdf', 'summary'], 'processing_time': 1.388742208480835, 'inference_time': 1.388742208480835, 'attempts': 1, 'text_length': 13152, 'text_truncated': True, 'agent': 'archive_agent', 'input_type': 'pdf', 'file_path': 'C:\\Users\\abc1\\AppData\\Local\\Temp\\tmpvz5p_1ez.pdf', 'content_length': 13152}, 'agent': 'archive_agent', 'model': 'edumentor_agent', 'timestamp': '2025-07-30T12:11:50.178868'}
2025-07-30 12:11:50,178 - INFO - agents.archive_agent - ArchiveAgent completed task ef34ee64-940b-4c94-8ab5-fd8ef69b28b0 with status: 200
2025-07-30 12:11:50,180 - ERROR - utils.mongo_logger - Error logging task execution: E11000 duplicate key error collection: bhiv_core.task_logs index: _id_ dup key: { _id: ObjectId('6889beaec5fab32fba83158f') }, full error: {'index': 0, 'code': 11000, 'errmsg': "E11000 duplicate key error collection: bhiv_core.task_logs index: _id_ dup key: { _id: ObjectId('6889beaec5fab32fba83158f') }", 'keyPattern': {'_id': 1}, 'keyValue': {'_id': ObjectId('6889beaec5fab32fba83158f')}}
2025-07-30 12:11:50,194 - INFO - reinforcement.reward_functions - Computed reward 1.69 for task ef34ee64-940b-4c94-8ab5-fd8ef69b28b0
2025-07-30 12:11:50,194 - INFO - reinforcement.rl_context - Logged RL reward: {'task_id': 'ef34ee64-940b-4c94-8ab5-fd8ef69b28b0', 'reward': 1.69, 'metrics': {'clarity_score': 0.98, 'tag_count': 2, 'status': 200}, 'timestamp': '2025-07-30T12:11:50.194600'}
2025-07-30 12:11:50,199 - INFO - reinforcement.replay_buffer - Saved replay buffer to logs/learning_log.json
2025-07-30 12:11:50,200 - INFO - reinforcement.replay_buffer - Added run to replay buffer: ef34ee64-940b-4c94-8ab5-fd8ef69b28b0
2025-07-30 12:11:50,200 - INFO - reinforcement.rl_context - Logged RL task: {'task_id': 'ef34ee64-940b-4c94-8ab5-fd8ef69b28b0', 'input': 'Main points of pdf given', 'output': {'result': 'Here is a summary of the text in 50-100 words:\n\nA 6-day sprint plan, "BHIV Core + Reinforcement Intelligence Layer," aims to integrate a reinforcement learning (RL) layer into the existing BHIV pipeline. The RL layer will track and log decisions, track rewards, and enable learning from day one without disrupting the normal flow. Components will be integrated as follows: Nisarg (Agent Router), Vijay (LLM Selector), and Nipun (Learning Adapter) will each add RL-related functionality. By the end of the sprint, the full multimodal pipeline with RL integration will be built, enabling learning and decision-making from day one.', 'model': 'archive_agent', 'tokens_used': 1965, 'cost_estimate': 0.0, 'status': 200, 'keywords': ['pdf', 'summary'], 'processing_time': 1.388742208480835, 'inference_time': 1.388742208480835, 'attempts': 1, 'text_length': 13152, 'text_truncated': True, 'agent': 'archive_agent', 'input_type': 'pdf', 'file_path': 'C:\\Users\\abc1\\AppData\\Local\\Temp\\tmpvz5p_1ez.pdf', 'content_length': 13152}, 'agent': 'archive_agent', 'model': 'edumentor_agent', 'timestamp': '2025-07-30T12:11:50.200864'}
2025-07-30 12:11:50,200 - INFO - reinforcement.rl_context - Logged RL action: {'task_id': 'ef34ee64-940b-4c94-8ab5-fd8ef69b28b0', 'agent': 'archive_agent', 'model': 'archive_agent', 'action': 'process_task', 'metadata': {'input_type': 'pdf', 'tags': []}, 'timestamp': '2025-07-30T12:11:50.200864'}
2025-07-30 12:11:50,202 - INFO - __main__ - CLI task completed in 4.20s: ef34ee64-940b-4c94-8ab5-fd8ef69b28b0
2025-07-30 12:11:50,202 - INFO - reinforcement.reward_functions - Computed reward 1.69 for task ef34ee64-940b-4c94-8ab5-fd8ef69b28b0
2025-07-30 12:11:50,202 - INFO - reinforcement.rl_context - Logged RL reward: {'task_id': 'ef34ee64-940b-4c94-8ab5-fd8ef69b28b0', 'reward': 1.69, 'metrics': {'clarity_score': 0.98, 'tag_count': 2, 'status': 200}, 'timestamp': '2025-07-30T12:11:50.202877'}
2025-07-30 12:11:50,207 - INFO - reinforcement.replay_buffer - Saved replay buffer to logs/learning_log.json
2025-07-30 12:11:50,207 - INFO - reinforcement.replay_buffer - Added run to replay buffer: ef34ee64-940b-4c94-8ab5-fd8ef69b28b0
2025-07-30 12:11:50,208 - INFO - reinforcement.rl_context - Logged RL task: {'task_id': 'ef34ee64-940b-4c94-8ab5-fd8ef69b28b0', 'input': 'Main points of pdf given', 'output': {'result': 'Here is a summary of the text in 50-100 words:\n\nA 6-day sprint plan, "BHIV Core + Reinforcement Intelligence Layer," aims to integrate a reinforcement learning (RL) layer into the existing BHIV pipeline. The RL layer will track and log decisions, track rewards, and enable learning from day one without disrupting the normal flow. Components will be integrated as follows: Nisarg (Agent Router), Vijay (LLM Selector), and Nipun (Learning Adapter) will each add RL-related functionality. By the end of the sprint, the full multimodal pipeline with RL integration will be built, enabling learning and decision-making from day one.', 'model': 'archive_agent', 'tokens_used': 1965, 'cost_estimate': 0.0, 'status': 200, 'keywords': ['pdf', 'summary'], 'processing_time': 1.388742208480835, 'inference_time': 1.388742208480835, 'attempts': 1, 'text_length': 13152, 'text_truncated': True, 'agent': 'archive_agent', 'input_type': 'pdf', 'file_path': 'C:\\Users\\abc1\\AppData\\Local\\Temp\\tmpvz5p_1ez.pdf', 'content_length': 13152}, 'agent': 'edumentor_agent', 'model': 'edumentor_agent', 'timestamp': '2025-07-30T12:11:50.208924'}
2025-07-30 12:14:16,036 - INFO - reinforcement.replay_buffer - Loaded replay buffer from logs/learning_log.json
2025-07-30 12:14:37,045 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-07-30 12:14:37,045 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-07-30 12:14:41,120 - WARNING - integration.nipun_adapter - spaCy model 'en_core_web_sm' not found. Install with: python -m spacy download en_core_web_sm
2025-07-30 12:14:52,345 - WARNING - passlib.handlers.bcrypt - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "C:\Users\abc1\Downloads\BHIV-Third-Installment\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-07-30 12:15:30,596 - INFO - mcp_bridge - [MCP_BRIDGE] Task ID: ae7f0bad-e612-4ac2-9eee-391e8d38f35c | Agent: edumentor_agent | Input: Analyze this pdf and give key points of this pdf... | File: temp/00ba4591-3e4d-428b-8300-5ea9d39a104b_daily-log.pdf | Type: pdf | Tags: []
2025-07-30 12:15:30,597 - INFO - reinforcement.agent_selector - No history: selected stream_transformer_agent for task ae7f0bad-e612-4ac2-9eee-391e8d38f35c
2025-07-30 12:15:30,597 - INFO - reinforcement.rl_context - Logged RL action: {'task_id': 'ae7f0bad-e612-4ac2-9eee-391e8d38f35c', 'agent': 'stream_transformer_agent', 'model': 'none', 'action': 'select_agent', 'metadata': {'task': 'process', 'input_type': 'pdf'}, 'timestamp': '2025-07-30T12:15:30.597137'}
2025-07-30 12:15:30,598 - INFO - agents.agent_registry - RL selected agent: stream_transformer_agent for task: process
2025-07-30 12:15:30,599 - INFO - agents.stream_transformer_agent - StreamTransformerAgent processing task ae7f0bad-e612-4ac2-9eee-391e8d38f35c, input: temp/00ba4591-3e4d-428b-8300-5ea9d39a104b_daily-log.pdf, type: pdf
2025-07-30 12:15:30,624 - INFO - agents.archive_agent - ArchiveAgent starting task ae7f0bad-e612-4ac2-9eee-391e8d38f35c with input_type: pdf, model: edumentor_agent
2025-07-30 12:15:30,636 - ERROR - agents.archive_agent - Error extracting PDF text: 'utf-16-be' codec can't encode character '\uda9b' in position 0: surrogates not allowed
2025-07-30 12:15:30,636 - ERROR - agents.archive_agent - Task ae7f0bad-e612-4ac2-9eee-391e8d38f35c - Failed to extract content from PDF: temp/00ba4591-3e4d-428b-8300-5ea9d39a104b_daily-log.pdf
2025-07-30 12:15:30,637 - INFO - reinforcement.reward_functions - Computed reward 0.0 for task ae7f0bad-e612-4ac2-9eee-391e8d38f35c
2025-07-30 12:15:30,637 - INFO - reinforcement.rl_context - Logged RL reward: {'task_id': 'ae7f0bad-e612-4ac2-9eee-391e8d38f35c', 'reward': 0.0, 'metrics': {'clarity_score': 0.0, 'tag_count': 0, 'status': 400}, 'timestamp': '2025-07-30T12:15:30.637682'}
2025-07-30 12:15:30,643 - INFO - reinforcement.replay_buffer - Saved replay buffer to logs/learning_log.json
2025-07-30 12:15:30,643 - INFO - reinforcement.replay_buffer - Added run to replay buffer: ae7f0bad-e612-4ac2-9eee-391e8d38f35c
2025-07-30 12:15:30,644 - INFO - reinforcement.rl_context - Logged RL task: {'task_id': 'ae7f0bad-e612-4ac2-9eee-391e8d38f35c', 'input': 'temp/00ba4591-3e4d-428b-8300-5ea9d39a104b_daily-log.pdf', 'output': {'error': 'Failed to extract PDF content', 'status': 400, 'keywords': [], 'agent': 'archive_agent', 'input_type': 'pdf', 'file_path': 'temp/00ba4591-3e4d-428b-8300-5ea9d39a104b_daily-log.pdf'}, 'agent': 'archive_agent', 'model': 'edumentor_agent', 'timestamp': '2025-07-30T12:15:30.643717'}
2025-07-30 12:15:30,644 - INFO - reinforcement.reward_functions - Computed reward 0.0 for task ae7f0bad-e612-4ac2-9eee-391e8d38f35c
2025-07-30 12:15:30,644 - INFO - reinforcement.rl_context - Logged RL reward: {'task_id': 'ae7f0bad-e612-4ac2-9eee-391e8d38f35c', 'reward': 0.0, 'metrics': {'clarity_score': 0.0, 'tag_count': 0, 'status': 400}, 'timestamp': '2025-07-30T12:15:30.644720'}
2025-07-30 12:15:30,650 - INFO - reinforcement.replay_buffer - Saved replay buffer to logs/learning_log.json
2025-07-30 12:15:30,650 - INFO - reinforcement.replay_buffer - Added run to replay buffer: ae7f0bad-e612-4ac2-9eee-391e8d38f35c
2025-07-30 12:15:30,650 - INFO - reinforcement.rl_context - Logged RL task: {'task_id': 'ae7f0bad-e612-4ac2-9eee-391e8d38f35c', 'input': 'temp/00ba4591-3e4d-428b-8300-5ea9d39a104b_daily-log.pdf', 'output': {'error': 'Failed to extract PDF content', 'status': 400, 'keywords': [], 'agent': 'archive_agent', 'input_type': 'pdf', 'file_path': 'temp/00ba4591-3e4d-428b-8300-5ea9d39a104b_daily-log.pdf'}, 'agent': 'archive_agent', 'model': 'edumentor_agent', 'timestamp': '2025-07-30T12:15:30.650736'}
2025-07-30 12:15:30,653 - ERROR - utils.mongo_logger - Error logging task execution: E11000 duplicate key error collection: bhiv_core.task_logs index: _id_ dup key: { _id: ObjectId('6889bf8ac5fab32fba831591') }, full error: {'index': 0, 'code': 11000, 'errmsg': "E11000 duplicate key error collection: bhiv_core.task_logs index: _id_ dup key: { _id: ObjectId('6889bf8ac5fab32fba831591') }", 'keyPattern': {'_id': 1}, 'keyValue': {'_id': ObjectId('6889bf8ac5fab32fba831591')}}
2025-07-30 12:15:30,654 - INFO - reinforcement.reward_functions - Computed reward 0.0 for task ae7f0bad-e612-4ac2-9eee-391e8d38f35c
2025-07-30 12:15:30,654 - INFO - reinforcement.rl_context - Logged RL reward: {'task_id': 'ae7f0bad-e612-4ac2-9eee-391e8d38f35c', 'reward': 0.0, 'metrics': {'clarity_score': 0.0, 'tag_count': 0, 'status': 400}, 'timestamp': '2025-07-30T12:15:30.654255'}
2025-07-30 12:15:30,660 - INFO - reinforcement.replay_buffer - Saved replay buffer to logs/learning_log.json
2025-07-30 12:15:30,660 - INFO - reinforcement.replay_buffer - Added run to replay buffer: ae7f0bad-e612-4ac2-9eee-391e8d38f35c
2025-07-30 12:15:30,660 - INFO - reinforcement.rl_context - Logged RL task: {'task_id': 'ae7f0bad-e612-4ac2-9eee-391e8d38f35c', 'input': 'Analyze this pdf and give key points of this pdf', 'output': {'error': 'Failed to extract PDF content', 'status': 400, 'keywords': [], 'agent': 'archive_agent', 'input_type': 'pdf', 'file_path': 'temp/00ba4591-3e4d-428b-8300-5ea9d39a104b_daily-log.pdf'}, 'agent': 'stream_transformer_agent', 'model': 'edumentor_agent', 'timestamp': '2025-07-30T12:15:30.660299'}
2025-07-30 12:15:30,660 - INFO - reinforcement.rl_context - Logged RL action: {'task_id': 'ae7f0bad-e612-4ac2-9eee-391e8d38f35c', 'agent': 'stream_transformer_agent', 'model': 'edumentor_agent', 'action': 'process_task', 'metadata': {'input_type': 'pdf', 'tags': []}, 'timestamp': '2025-07-30T12:15:30.660299'}
2025-07-30 12:16:15,089 - INFO - mcp_bridge - [MCP_BRIDGE] Task ID: 0e071e51-c69f-40d8-8809-c43934225ccb | Agent: edumentor_agent | Input: Convert this to text... | File: temp/c25aed65-b9a3-4ffe-b9a6-4ae03b3fae17_test.wav | Type: audio | Tags: []
2025-07-30 12:16:15,090 - INFO - reinforcement.agent_selector - No history: selected audio_agent for task 0e071e51-c69f-40d8-8809-c43934225ccb
2025-07-30 12:16:15,090 - INFO - reinforcement.rl_context - Logged RL action: {'task_id': '0e071e51-c69f-40d8-8809-c43934225ccb', 'agent': 'audio_agent', 'model': 'none', 'action': 'select_agent', 'metadata': {'task': 'process', 'input_type': 'audio'}, 'timestamp': '2025-07-30T12:16:15.090176'}
2025-07-30 12:16:15,091 - INFO - agents.agent_registry - RL selected agent: audio_agent for task: process
2025-07-30 12:16:34,720 - INFO - agents.audio_agent - Wav2Vec2 model loaded successfully
2025-07-30 12:16:34,720 - INFO - agents.audio_agent - AudioAgent processing task 0e071e51-c69f-40d8-8809-c43934225ccb, input: temp/c25aed65-b9a3-4ffe-b9a6-4ae03b3fae17_test.wav
2025-07-30 12:16:34,721 - INFO - agents.audio_agent - Processing audio file: temp/c25aed65-b9a3-4ffe-b9a6-4ae03b3fae17_test.wav
2025-07-30 12:16:34,721 - INFO - agents.audio_agent - Audio file size: 3249924 bytes
2025-07-30 12:16:34,721 - INFO - agents.audio_agent - Attempting Wav2Vec2 transcription...
2025-07-30 12:16:34,880 - INFO - agents.audio_agent - Loading audio for Wav2Vec2: temp/c25aed65-b9a3-4ffe-b9a6-4ae03b3fae17_test.wav
2025-07-30 12:16:34,941 - INFO - agents.audio_agent - Loaded audio with soundfile: 44100Hz
2025-07-30 12:16:34,941 - INFO - agents.audio_agent - Audio loaded with soundfile: 44100Hz, 809508 samples
2025-07-30 12:16:34,942 - INFO - agents.audio_agent - Resampling from 44100Hz to 16000Hz
2025-07-30 12:16:35,080 - INFO - agents.audio_agent - Resampled to 293699 samples
2025-07-30 12:16:35,084 - INFO - agents.audio_agent - Processing with Wav2Vec2: 293699 samples
2025-07-30 12:16:43,360 - ERROR - agents.audio_agent - Wav2Vec2 transcription failed: RuntimeError: Calculated padded input size per channel: (2). Kernel size: (10). Kernel size can't be greater than actual input size
2025-07-30 12:16:43,398 - ERROR - agents.audio_agent - Wav2Vec2 traceback: Traceback (most recent call last):
  File "C:\Users\abc1\Downloads\BHIV-Third-Installment\agents\audio_agent.py", line 119, in transcribe_with_wav2vec2
    logits = self.model(inputs.input_values).logits
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\abc1\AppData\Local\Programs\Python\Python311\Lib\site-packages\torch\nn\modules\module.py", line 1751, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\abc1\AppData\Local\Programs\Python\Python311\Lib\site-packages\torch\nn\modules\module.py", line 1762, in _call_impl
    return forward_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\abc1\AppData\Local\Programs\Python\Python311\Lib\site-packages\transformers\models\wav2vec2\modeling_wav2vec2.py", line 1901, in forward
    outputs = self.wav2vec2(
              ^^^^^^^^^^^^^^
  File "C:\Users\abc1\AppData\Local\Programs\Python\Python311\Lib\site-packages\torch\nn\modules\module.py", line 1751, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\abc1\AppData\Local\Programs\Python\Python311\Lib\site-packages\torch\nn\modules\module.py", line 1762, in _call_impl
    return forward_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\abc1\AppData\Local\Programs\Python\Python311\Lib\site-packages\transformers\models\wav2vec2\modeling_wav2vec2.py", line 1487, in forward
    extract_features = self.feature_extractor(input_values)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\abc1\AppData\Local\Programs\Python\Python311\Lib\site-packages\torch\nn\modules\module.py", line 1751, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\abc1\AppData\Local\Programs\Python\Python311\Lib\site-packages\torch\nn\modules\module.py", line 1762, in _call_impl
    return forward_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\abc1\AppData\Local\Programs\Python\Python311\Lib\site-packages\transformers\models\wav2vec2\modeling_wav2vec2.py", line 431, in forward
    hidden_states = conv_layer(hidden_states)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\abc1\AppData\Local\Programs\Python\Python311\Lib\site-packages\transformers\modeling_layers.py", line 83, in __call__
    return super().__call__(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\abc1\AppData\Local\Programs\Python\Python311\Lib\site-packages\torch\nn\modules\module.py", line 1751, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\abc1\AppData\Local\Programs\Python\Python311\Lib\site-packages\torch\nn\modules\module.py", line 1762, in _call_impl
    return forward_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\abc1\AppData\Local\Programs\Python\Python311\Lib\site-packages\transformers\models\wav2vec2\modeling_wav2vec2.py", line 334, in forward
    hidden_states = self.conv(hidden_states)
                    ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\abc1\AppData\Local\Programs\Python\Python311\Lib\site-packages\torch\nn\modules\module.py", line 1751, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\abc1\AppData\Local\Programs\Python\Python311\Lib\site-packages\torch\nn\modules\module.py", line 1762, in _call_impl
    return forward_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\abc1\AppData\Local\Programs\Python\Python311\Lib\site-packages\torch\nn\modules\conv.py", line 375, in forward
    return self._conv_forward(input, self.weight, self.bias)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\abc1\AppData\Local\Programs\Python\Python311\Lib\site-packages\torch\nn\modules\conv.py", line 370, in _conv_forward
    return F.conv1d(
           ^^^^^^^^^
RuntimeError: Calculated padded input size per channel: (2). Kernel size: (10). Kernel size can't be greater than actual input size

2025-07-30 12:16:43,399 - WARNING - agents.audio_agent - Wav2Vec2 failed: Calculated padded input size per channel: (2). Kernel size: (10). Kernel size can't be greater than actual input size
2025-07-30 12:16:43,399 - INFO - agents.audio_agent - Starting transcription with SpeechRecognition...
2025-07-30 12:16:43,399 - INFO - agents.audio_agent - Using SpeechRecognition for: temp/c25aed65-b9a3-4ffe-b9a6-4ae03b3fae17_test.wav
2025-07-30 12:16:43,401 - INFO - agents.audio_agent - Processing WAV file: temp/c25aed65-b9a3-4ffe-b9a6-4ae03b3fae17_test.wav
2025-07-30 12:16:43,401 - INFO - agents.audio_agent - Recording audio data...
2025-07-30 12:16:43,408 - INFO - agents.audio_agent - Audio data recorded, duration: 1578056 bytes
2025-07-30 12:16:43,409 - INFO - agents.audio_agent - Attempting Google Speech Recognition...
2025-07-30 12:17:00,654 - INFO - agents.audio_agent - Google Speech Recognition successful: the still smell of old buildings it takes heat to bring out the order I call dip restores health and fast pickle please find with him tacos Alpha store are my favourite is just for food is the hot cross bun
2025-07-30 12:17:00,655 - INFO - agents.audio_agent - SpeechRecognition successful: the still smell of old buildings it takes heat to bring out the order I call dip restores health and...
2025-07-30 12:17:00,655 - INFO - agents.audio_agent - Audio transcribed successfully using speech_recognition: the still smell of old buildings it takes heat to ...
2025-07-30 12:17:00,656 - INFO - reinforcement.reward_functions - Computed reward 1.5050000000000001 for task 0e071e51-c69f-40d8-8809-c43934225ccb
2025-07-30 12:17:00,656 - INFO - reinforcement.rl_context - Logged RL reward: {'task_id': '0e071e51-c69f-40d8-8809-c43934225ccb', 'reward': 1.5050000000000001, 'metrics': {'clarity_score': 0.41, 'tag_count': 3, 'status': 200}, 'timestamp': '2025-07-30T12:17:00.656586'}
2025-07-30 12:17:00,662 - INFO - reinforcement.replay_buffer - Saved replay buffer to logs/learning_log.json
2025-07-30 12:17:00,662 - INFO - reinforcement.replay_buffer - Added run to replay buffer: 0e071e51-c69f-40d8-8809-c43934225ccb
2025-07-30 12:17:00,662 - INFO - reinforcement.rl_context - Logged RL task: {'task_id': '0e071e51-c69f-40d8-8809-c43934225ccb', 'input': 'temp/c25aed65-b9a3-4ffe-b9a6-4ae03b3fae17_test.wav', 'output': {'result': 'the still smell of old buildings it takes heat to bring out the order I call dip restores health and fast pickle please find with him tacos Alpha store are my favourite is just for food is the hot cross bun', 'method': 'speech_recognition', 'model': 'audio_agent', 'tokens_used': 41, 'cost_estimate': 0.0, 'status': 200, 'keywords': ['audio', 'transcription', 'speech_recognition']}, 'agent': 'audio_agent', 'model': 'edumentor_agent', 'timestamp': '2025-07-30T12:17:00.662614'}
2025-07-30 12:17:00,711 - ERROR - utils.mongo_logger - Error logging task execution: E11000 duplicate key error collection: bhiv_core.task_logs index: _id_ dup key: { _id: ObjectId('6889bfe4c5fab32fba831592') }, full error: {'index': 0, 'code': 11000, 'errmsg': "E11000 duplicate key error collection: bhiv_core.task_logs index: _id_ dup key: { _id: ObjectId('6889bfe4c5fab32fba831592') }", 'keyPattern': {'_id': 1}, 'keyValue': {'_id': ObjectId('6889bfe4c5fab32fba831592')}}
2025-07-30 12:17:00,712 - INFO - reinforcement.reward_functions - Computed reward 1.5050000000000001 for task 0e071e51-c69f-40d8-8809-c43934225ccb
2025-07-30 12:17:00,712 - INFO - reinforcement.rl_context - Logged RL reward: {'task_id': '0e071e51-c69f-40d8-8809-c43934225ccb', 'reward': 1.5050000000000001, 'metrics': {'clarity_score': 0.41, 'tag_count': 3, 'status': 200}, 'timestamp': '2025-07-30T12:17:00.712935'}
2025-07-30 12:17:00,718 - INFO - reinforcement.replay_buffer - Saved replay buffer to logs/learning_log.json
2025-07-30 12:17:00,718 - INFO - reinforcement.replay_buffer - Added run to replay buffer: 0e071e51-c69f-40d8-8809-c43934225ccb
2025-07-30 12:17:00,719 - INFO - reinforcement.rl_context - Logged RL task: {'task_id': '0e071e51-c69f-40d8-8809-c43934225ccb', 'input': 'Convert this to text', 'output': {'result': 'the still smell of old buildings it takes heat to bring out the order I call dip restores health and fast pickle please find with him tacos Alpha store are my favourite is just for food is the hot cross bun', 'method': 'speech_recognition', 'model': 'audio_agent', 'tokens_used': 41, 'cost_estimate': 0.0, 'status': 200, 'keywords': ['audio', 'transcription', 'speech_recognition']}, 'agent': 'audio_agent', 'model': 'edumentor_agent', 'timestamp': '2025-07-30T12:17:00.719364'}
2025-07-30 12:17:00,719 - INFO - reinforcement.rl_context - Logged RL action: {'task_id': '0e071e51-c69f-40d8-8809-c43934225ccb', 'agent': 'audio_agent', 'model': 'audio_agent', 'action': 'process_task', 'metadata': {'input_type': 'audio', 'tags': []}, 'timestamp': '2025-07-30T12:17:00.719364'}
2025-07-30 12:17:28,326 - INFO - mcp_bridge - [MCP_BRIDGE] Task ID: 7c86235f-eae1-4191-8da0-ae52d6734123 | Agent: edumentor_agent | Input: Convert this to text... | File: temp/4cff67e0-11be-4f7e-b8fe-4beb31f50472_Untitled diagram _ Mermaid Chart-2025-07-09-101439.png | Type: image | Tags: []
2025-07-30 12:17:28,327 - INFO - reinforcement.agent_selector - No history: selected image_agent for task 7c86235f-eae1-4191-8da0-ae52d6734123
2025-07-30 12:17:28,327 - INFO - reinforcement.rl_context - Logged RL action: {'task_id': '7c86235f-eae1-4191-8da0-ae52d6734123', 'agent': 'image_agent', 'model': 'none', 'action': 'select_agent', 'metadata': {'task': 'process', 'input_type': 'image'}, 'timestamp': '2025-07-30T12:17:28.327061'}
2025-07-30 12:17:28,327 - INFO - agents.agent_registry - RL selected agent: image_agent for task: process
2025-07-30 12:17:32,717 - INFO - agents.image_agent - ImageAgent processing task 7c86235f-eae1-4191-8da0-ae52d6734123, input: temp/4cff67e0-11be-4f7e-b8fe-4beb31f50472_Untitled diagram _ Mermaid Chart-2025-07-09-101439.png
2025-07-30 12:17:34,096 - INFO - agents.image_agent - Generated caption for temp/4cff67e0-11be-4f7e-b8fe-4beb31f50472_Untitled diagram _ Mermaid Chart-2025-07-09-101439.png: a flow diagram of the process
2025-07-30 12:17:34,097 - INFO - reinforcement.reward_functions - Computed reward 1.23 for task 7c86235f-eae1-4191-8da0-ae52d6734123
2025-07-30 12:17:34,098 - INFO - reinforcement.rl_context - Logged RL reward: {'task_id': '7c86235f-eae1-4191-8da0-ae52d6734123', 'reward': 1.23, 'metrics': {'clarity_score': 0.06, 'tag_count': 2, 'status': 200}, 'timestamp': '2025-07-30T12:17:34.098026'}
2025-07-30 12:17:34,105 - INFO - reinforcement.replay_buffer - Saved replay buffer to logs/learning_log.json
2025-07-30 12:17:34,107 - INFO - reinforcement.replay_buffer - Added run to replay buffer: 7c86235f-eae1-4191-8da0-ae52d6734123
2025-07-30 12:17:34,107 - INFO - reinforcement.rl_context - Logged RL task: {'task_id': '7c86235f-eae1-4191-8da0-ae52d6734123', 'input': 'temp/4cff67e0-11be-4f7e-b8fe-4beb31f50472_Untitled diagram _ Mermaid Chart-2025-07-09-101439.png', 'output': {'result': 'a flow diagram of the process', 'model': 'image_agent', 'tokens_used': 6, 'cost_estimate': 0.0, 'status': 200, 'keywords': ['image', 'caption']}, 'agent': 'image_agent', 'model': 'edumentor_agent', 'timestamp': '2025-07-30T12:17:34.107049'}
2025-07-30 12:17:34,109 - ERROR - utils.mongo_logger - Error logging task execution: E11000 duplicate key error collection: bhiv_core.task_logs index: _id_ dup key: { _id: ObjectId('6889c006c5fab32fba831594') }, full error: {'index': 0, 'code': 11000, 'errmsg': "E11000 duplicate key error collection: bhiv_core.task_logs index: _id_ dup key: { _id: ObjectId('6889c006c5fab32fba831594') }", 'keyPattern': {'_id': 1}, 'keyValue': {'_id': ObjectId('6889c006c5fab32fba831594')}}
2025-07-30 12:17:34,110 - INFO - reinforcement.reward_functions - Computed reward 1.23 for task 7c86235f-eae1-4191-8da0-ae52d6734123
2025-07-30 12:17:34,110 - INFO - reinforcement.rl_context - Logged RL reward: {'task_id': '7c86235f-eae1-4191-8da0-ae52d6734123', 'reward': 1.23, 'metrics': {'clarity_score': 0.06, 'tag_count': 2, 'status': 200}, 'timestamp': '2025-07-30T12:17:34.110432'}
2025-07-30 12:17:34,119 - INFO - reinforcement.replay_buffer - Saved replay buffer to logs/learning_log.json
2025-07-30 12:17:34,120 - INFO - reinforcement.replay_buffer - Added run to replay buffer: 7c86235f-eae1-4191-8da0-ae52d6734123
2025-07-30 12:17:34,120 - INFO - reinforcement.rl_context - Logged RL task: {'task_id': '7c86235f-eae1-4191-8da0-ae52d6734123', 'input': 'Convert this to text', 'output': {'result': 'a flow diagram of the process', 'model': 'image_agent', 'tokens_used': 6, 'cost_estimate': 0.0, 'status': 200, 'keywords': ['image', 'caption']}, 'agent': 'image_agent', 'model': 'edumentor_agent', 'timestamp': '2025-07-30T12:17:34.120965'}
2025-07-30 12:17:34,120 - INFO - reinforcement.rl_context - Logged RL action: {'task_id': '7c86235f-eae1-4191-8da0-ae52d6734123', 'agent': 'image_agent', 'model': 'image_agent', 'action': 'process_task', 'metadata': {'input_type': 'image', 'tags': []}, 'timestamp': '2025-07-30T12:17:34.120965'}
2025-07-30 12:18:09,492 - INFO - mcp_bridge - [MCP_BRIDGE] Task ID: 885fd489-55c0-492f-b09a-b81fad8df7ed | Agent: edumentor_agent | Input: Give main points of this pdf... | File: temp/b98543a7-15e0-4453-bdd1-6c4372d2486c_Task1.pdf | Type: pdf | Tags: []
2025-07-30 12:18:09,492 - INFO - reinforcement.agent_selector - No history: selected archive_agent for task 885fd489-55c0-492f-b09a-b81fad8df7ed
2025-07-30 12:18:09,492 - INFO - reinforcement.rl_context - Logged RL action: {'task_id': '885fd489-55c0-492f-b09a-b81fad8df7ed', 'agent': 'archive_agent', 'model': 'none', 'action': 'select_agent', 'metadata': {'task': 'process', 'input_type': 'pdf'}, 'timestamp': '2025-07-30T12:18:09.492908'}
2025-07-30 12:18:09,492 - INFO - agents.agent_registry - RL selected agent: archive_agent for task: process
2025-07-30 12:18:09,507 - INFO - agents.archive_agent - ArchiveAgent starting task 885fd489-55c0-492f-b09a-b81fad8df7ed with input_type: pdf, model: edumentor_agent
2025-07-30 12:18:09,623 - INFO - agents.archive_agent - Extracted 13152 characters from PDF: temp/b98543a7-15e0-4453-bdd1-6c4372d2486c_Task1.pdf
2025-07-30 12:18:09,623 - INFO - agents.archive_agent - Task 885fd489-55c0-492f-b09a-b81fad8df7ed - Extracted 13152 characters from PDF
2025-07-30 12:18:09,624 - INFO - agents.archive_agent - Processing PDF (attempt 1/3) for task 885fd489-55c0-492f-b09a-b81fad8df7ed
2025-07-30 12:18:10,339 - INFO - httpx - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-30 12:18:10,341 - INFO - agents.archive_agent - PDF processing successful for task 885fd489-55c0-492f-b09a-b81fad8df7ed in 0.72s
2025-07-30 12:18:10,341 - INFO - reinforcement.reward_functions - Computed reward 1.7 for task 885fd489-55c0-492f-b09a-b81fad8df7ed
2025-07-30 12:18:10,342 - INFO - reinforcement.rl_context - Logged RL reward: {'task_id': '885fd489-55c0-492f-b09a-b81fad8df7ed', 'reward': 1.7, 'metrics': {'clarity_score': 1.0, 'tag_count': 2, 'status': 200}, 'timestamp': '2025-07-30T12:18:10.342552'}
2025-07-30 12:18:10,347 - INFO - reinforcement.replay_buffer - Saved replay buffer to logs/learning_log.json
2025-07-30 12:18:10,347 - INFO - reinforcement.replay_buffer - Added run to replay buffer: 885fd489-55c0-492f-b09a-b81fad8df7ed
2025-07-30 12:18:10,348 - INFO - reinforcement.rl_context - Logged RL task: {'task_id': '885fd489-55c0-492f-b09a-b81fad8df7ed', 'input': 'temp/b98543a7-15e0-4453-bdd1-6c4372d2486c_Task1.pdf', 'output': {'result': 'Here\'s a summary of the text in 50-100 words:\n\nThe "BHIV Core + Reinforcement Intelligence Layer" sprint aims to integrate a lightweight reinforcement learning layer into the existing BHIV pipeline. This layer will log decisions, track rewards, and enable learning from the start without disrupting the normal flow. The 6-day plan involves integrating the reinforcement layer with the Agent Router, LLM Selector, and Learning Adapter components. Each component will be modified to track and log decisions, and the reinforcement layer will start making suggestions and providing feedback to improve the pipeline\'s performance. The goal is to create a full multimodal, agentic BHIV pipeline.', 'model': 'archive_agent', 'tokens_used': 1970, 'cost_estimate': 0.0, 'status': 200, 'keywords': ['pdf', 'summary'], 'processing_time': 0.717397928237915, 'inference_time': 0.717397928237915, 'attempts': 1, 'text_length': 13152, 'text_truncated': True, 'agent': 'archive_agent', 'input_type': 'pdf', 'file_path': 'temp/b98543a7-15e0-4453-bdd1-6c4372d2486c_Task1.pdf', 'content_length': 13152}, 'agent': 'archive_agent', 'model': 'edumentor_agent', 'timestamp': '2025-07-30T12:18:10.348838'}
2025-07-30 12:18:10,348 - INFO - agents.archive_agent - ArchiveAgent completed task 885fd489-55c0-492f-b09a-b81fad8df7ed with status: 200
2025-07-30 12:18:10,350 - ERROR - utils.mongo_logger - Error logging task execution: E11000 duplicate key error collection: bhiv_core.task_logs index: _id_ dup key: { _id: ObjectId('6889c02ac5fab32fba831596') }, full error: {'index': 0, 'code': 11000, 'errmsg': "E11000 duplicate key error collection: bhiv_core.task_logs index: _id_ dup key: { _id: ObjectId('6889c02ac5fab32fba831596') }", 'keyPattern': {'_id': 1}, 'keyValue': {'_id': ObjectId('6889c02ac5fab32fba831596')}}
2025-07-30 12:18:10,351 - INFO - reinforcement.reward_functions - Computed reward 1.7 for task 885fd489-55c0-492f-b09a-b81fad8df7ed
2025-07-30 12:18:10,351 - INFO - reinforcement.rl_context - Logged RL reward: {'task_id': '885fd489-55c0-492f-b09a-b81fad8df7ed', 'reward': 1.7, 'metrics': {'clarity_score': 1.0, 'tag_count': 2, 'status': 200}, 'timestamp': '2025-07-30T12:18:10.351301'}
2025-07-30 12:18:10,357 - INFO - reinforcement.replay_buffer - Saved replay buffer to logs/learning_log.json
2025-07-30 12:18:10,357 - INFO - reinforcement.replay_buffer - Added run to replay buffer: 885fd489-55c0-492f-b09a-b81fad8df7ed
2025-07-30 12:18:10,357 - INFO - reinforcement.rl_context - Logged RL task: {'task_id': '885fd489-55c0-492f-b09a-b81fad8df7ed', 'input': 'Give main points of this pdf', 'output': {'result': 'Here\'s a summary of the text in 50-100 words:\n\nThe "BHIV Core + Reinforcement Intelligence Layer" sprint aims to integrate a lightweight reinforcement learning layer into the existing BHIV pipeline. This layer will log decisions, track rewards, and enable learning from the start without disrupting the normal flow. The 6-day plan involves integrating the reinforcement layer with the Agent Router, LLM Selector, and Learning Adapter components. Each component will be modified to track and log decisions, and the reinforcement layer will start making suggestions and providing feedback to improve the pipeline\'s performance. The goal is to create a full multimodal, agentic BHIV pipeline.', 'model': 'archive_agent', 'tokens_used': 1970, 'cost_estimate': 0.0, 'status': 200, 'keywords': ['pdf', 'summary'], 'processing_time': 0.717397928237915, 'inference_time': 0.717397928237915, 'attempts': 1, 'text_length': 13152, 'text_truncated': True, 'agent': 'archive_agent', 'input_type': 'pdf', 'file_path': 'temp/b98543a7-15e0-4453-bdd1-6c4372d2486c_Task1.pdf', 'content_length': 13152}, 'agent': 'archive_agent', 'model': 'edumentor_agent', 'timestamp': '2025-07-30T12:18:10.357547'}
2025-07-30 12:18:10,358 - INFO - reinforcement.rl_context - Logged RL action: {'task_id': '885fd489-55c0-492f-b09a-b81fad8df7ed', 'agent': 'archive_agent', 'model': 'archive_agent', 'action': 'process_task', 'metadata': {'input_type': 'pdf', 'tags': []}, 'timestamp': '2025-07-30T12:18:10.358551'}
2025-07-30 12:19:08,215 - INFO - mcp_bridge - [MCP_BRIDGE] Query KB Task ID: d9c1a0d3-e6f7-4d1a-98e7-f9e3cfcbbea8 | Query: reinforcement learning... | Filters: None | Tags: ['semantic_search']
2025-07-30 12:19:08,215 - INFO - reinforcement.agent_selector - Exploration (rate=0.193): selected stream_transformer_agent for text task d9c1a0d3-e6f7-4d1a-98e7-f9e3cfcbbea8
2025-07-30 12:19:08,216 - INFO - reinforcement.rl_context - Logged RL action: {'task_id': 'd9c1a0d3-e6f7-4d1a-98e7-f9e3cfcbbea8', 'agent': 'stream_transformer_agent', 'model': 'none', 'action': 'select_agent', 'metadata': {'task': 'semantic_search', 'input_type': 'text'}, 'timestamp': '2025-07-30T12:19:08.216146'}
2025-07-30 12:19:08,216 - INFO - agents.agent_registry - RL selected agent: stream_transformer_agent for task: semantic_search
2025-07-30 12:19:08,216 - ERROR - mcp_bridge - [MCP_BRIDGE] KnowledgeAgent not found for task d9c1a0d3-e6f7-4d1a-98e7-f9e3cfcbbea8
2025-07-30 12:19:08,217 - ERROR - mcp_bridge - [MCP_BRIDGE] Error processing query-kb task d9c1a0d3-e6f7-4d1a-98e7-f9e3cfcbbea8: 404: KnowledgeAgent not found
2025-07-30 12:19:08,217 - INFO - reinforcement.reward_functions - Computed reward 0.0 for task d9c1a0d3-e6f7-4d1a-98e7-f9e3cfcbbea8
2025-07-30 12:19:08,217 - INFO - reinforcement.rl_context - Logged RL reward: {'task_id': 'd9c1a0d3-e6f7-4d1a-98e7-f9e3cfcbbea8', 'reward': 0.0, 'metrics': {'clarity_score': 0.0, 'tag_count': 0, 'status': 500}, 'timestamp': '2025-07-30T12:19:08.217152'}
2025-07-30 12:19:08,222 - INFO - reinforcement.replay_buffer - Saved replay buffer to logs/learning_log.json
2025-07-30 12:19:08,223 - INFO - reinforcement.replay_buffer - Added run to replay buffer: d9c1a0d3-e6f7-4d1a-98e7-f9e3cfcbbea8
2025-07-30 12:19:08,223 - INFO - reinforcement.rl_context - Logged RL task: {'task_id': 'd9c1a0d3-e6f7-4d1a-98e7-f9e3cfcbbea8', 'input': 'reinforcement learning', 'output': {'error': 'Query processing failed: 404: KnowledgeAgent not found', 'status': 500}, 'agent': 'stream_transformer_agent', 'model': 'none', 'timestamp': '2025-07-30T12:19:08.223366'}
2025-07-30 12:19:08,223 - INFO - reinforcement.rl_context - Logged RL action: {'task_id': 'd9c1a0d3-e6f7-4d1a-98e7-f9e3cfcbbea8', 'agent': 'stream_transformer_agent', 'model': 'none', 'action': 'query_knowledge_base_failed', 'metadata': {'query': 'reinforcement learning', 'filters': None, 'tags': ['semantic_search']}, 'timestamp': '2025-07-30T12:19:08.223366'}
2025-07-30 12:33:44,338 - INFO - __main__ - Shutting down Simple Orchestration API...
2025-07-30 12:33:54,523 - INFO - reinforcement.replay_buffer - Loaded replay buffer from logs/learning_log.json
2025-07-30 12:33:54,533 - INFO - agents.agent_registry - Loaded 8 agents from config/agent_configs.json
2025-07-30 12:33:54,539 - INFO - utils.mongo_logger - MongoDB logger initialized successfully
2025-07-30 12:33:55,183 - INFO - utils.file_utils - SecureFileAccess initialized with paths: ['C:\\Users\\abc1\\Downloads\\BHIV-Third-Installment', 'C:\\mnt\\vedabase', '\\\\nas\\vedabase', 'Z:\\vedabase'], read_only: True
2025-07-30 12:33:55,184 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-07-30 12:33:55,185 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-07-30 12:33:59,312 - INFO - utils.file_based_retriever - FileBasedRetriever initialized with SentenceTransformer
2025-07-30 12:33:59,349 - INFO - utils.file_based_retriever - Loaded knowledge base from cache: 136 chunks
2025-07-30 12:33:59,353 - INFO - utils.mongo_logger - MongoDB logger initialized successfully
2025-07-30 12:33:59,506 - INFO - __main__ - Initialized Groq model: llama3-8b-8192 for ask-vedas
2025-07-30 12:33:59,521 - INFO - __main__ - Initialized Groq model: llama3-8b-8192 for edumentor
2025-07-30 12:33:59,536 - INFO - __main__ - Initialized Groq model: llama3-8b-8192 for wellness
2025-07-30 12:33:59,536 - INFO - __main__ - Initializing embedding model...
2025-07-30 12:33:59,538 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-07-30 12:33:59,538 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-07-30 12:34:02,346 - INFO - __main__ - Initialized with 0 vector stores
2025-07-30 12:34:06,448 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-07-30 12:34:06,449 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-07-30 12:34:09,277 - INFO - agents.KnowledgeAgent - KnowledgeAgent initialized with both file-based and Qdrant support
2025-07-30 12:34:09,310 - INFO - __main__ - Starting Simple Orchestration API...
2025-07-30 12:34:09,310 - INFO - __main__ - Initializing embedding model...
2025-07-30 12:34:09,312 - INFO - sentence_transformers.SentenceTransformer - Use pytorch device_name: cpu
2025-07-30 12:34:09,312 - INFO - sentence_transformers.SentenceTransformer - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-07-30 12:34:12,136 - INFO - __main__ - Initialized with 0 vector stores
2025-07-30 12:34:12,137 - INFO - __main__ - Simple Orchestration API ready!
2025-07-30 12:34:15,714 - INFO - reinforcement.replay_buffer - Loaded replay buffer from logs/learning_log.json
2025-07-30 12:34:15,716 - INFO - __main__ - RL Configuration: use_rl=True, exploration_rate=0.2
2025-07-30 12:34:15,717 - INFO - __main__ - Processing file: Task1.pdf with type: pdf
2025-07-30 12:34:17,789 - INFO - mcp_bridge - [MCP_BRIDGE] Task ID: 7462319a-de49-4fca-8445-ff9761ab0c3e | File uploaded: Task1.pdf -> C:\Users\abc1\AppData\Local\Temp\tmpm40827my.pdf
2025-07-30 12:34:17,789 - INFO - mcp_bridge - [MCP_BRIDGE] Task ID: b37c44d3-97b1-40ba-ac3e-580a52ba5f65 | Agent: edumentor_agent | Input: Main points of pdf given... | File: C:\Users\abc1\AppData\Local\Temp\tmpm40827my.pdf | Type: pdf | Tags: []
2025-07-30 12:34:17,790 - INFO - reinforcement.agent_selector - Exploration (rate=0.298): selected archive_agent for pdf task b37c44d3-97b1-40ba-ac3e-580a52ba5f65
2025-07-30 12:34:17,790 - INFO - reinforcement.rl_context - Logged RL action: {'task_id': 'b37c44d3-97b1-40ba-ac3e-580a52ba5f65', 'agent': 'archive_agent', 'model': 'none', 'action': 'select_agent', 'metadata': {'task': 'process', 'input_type': 'pdf'}, 'timestamp': '2025-07-30T12:34:17.790727'}
2025-07-30 12:34:17,790 - INFO - agents.agent_registry - RL selected agent: archive_agent for task: process
2025-07-30 12:34:18,297 - INFO - agents.archive_agent - ArchiveAgent starting task b37c44d3-97b1-40ba-ac3e-580a52ba5f65 with input_type: pdf, model: edumentor_agent
2025-07-30 12:34:18,417 - INFO - agents.archive_agent - Extracted 13152 characters from PDF: C:\Users\abc1\AppData\Local\Temp\tmpm40827my.pdf
2025-07-30 12:34:18,418 - INFO - agents.archive_agent - Task b37c44d3-97b1-40ba-ac3e-580a52ba5f65 - Extracted 13152 characters from PDF
2025-07-30 12:34:18,418 - INFO - agents.archive_agent - Processing PDF (attempt 1/3) for task b37c44d3-97b1-40ba-ac3e-580a52ba5f65
2025-07-30 12:34:18,927 - INFO - httpx - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-07-30 12:34:18,938 - INFO - agents.archive_agent - PDF processing successful for task b37c44d3-97b1-40ba-ac3e-580a52ba5f65 in 0.52s
2025-07-30 12:34:18,939 - INFO - reinforcement.reward_functions - Computed reward 1.7 for task b37c44d3-97b1-40ba-ac3e-580a52ba5f65
2025-07-30 12:34:18,939 - INFO - reinforcement.rl_context - Logged RL reward: {'task_id': 'b37c44d3-97b1-40ba-ac3e-580a52ba5f65', 'reward': 1.7, 'metrics': {'clarity_score': 1.0, 'tag_count': 2, 'status': 200}, 'timestamp': '2025-07-30T12:34:18.939983'}
2025-07-30 12:34:18,946 - INFO - reinforcement.replay_buffer - Saved replay buffer to logs/learning_log.json
2025-07-30 12:34:18,946 - INFO - reinforcement.replay_buffer - Added run to replay buffer: b37c44d3-97b1-40ba-ac3e-580a52ba5f65
2025-07-30 12:34:18,946 - INFO - reinforcement.rl_context - Logged RL task: {'task_id': 'b37c44d3-97b1-40ba-ac3e-580a52ba5f65', 'input': 'C:\\Users\\abc1\\AppData\\Local\\Temp\\tmpm40827my.pdf', 'output': {'result': "Here's a summary of the given text in 50-100 words:\n\nA 6-day sprint plan aims to integrate a reinforcement learning (RL) layer into the BHIV pipeline. The goal is to build a multimodal, agentic BHIV pipeline with a lightweight RL layer that logs decisions, tracks rewards, and enables learning. The plan involves integrating the RL layer into components such as the agent router, LLM selector, and learning adapter, and logging decisions and rewards. The RL layer will initially track and log decisions, then make suggestions based on learned experiences. This will enable the pipeline to learn and improve over time.", 'model': 'archive_agent', 'tokens_used': 1967, 'cost_estimate': 0.0, 'status': 200, 'keywords': ['pdf', 'summary'], 'processing_time': 0.5204031467437744, 'inference_time': 0.5204031467437744, 'attempts': 1, 'text_length': 13152, 'text_truncated': True, 'agent': 'archive_agent', 'input_type': 'pdf', 'file_path': 'C:\\Users\\abc1\\AppData\\Local\\Temp\\tmpm40827my.pdf', 'content_length': 13152}, 'agent': 'archive_agent', 'model': 'edumentor_agent', 'timestamp': '2025-07-30T12:34:18.946125'}
2025-07-30 12:34:18,947 - INFO - agents.archive_agent - ArchiveAgent completed task b37c44d3-97b1-40ba-ac3e-580a52ba5f65 with status: 200
2025-07-30 12:34:18,972 - ERROR - utils.mongo_logger - Error logging task execution: E11000 duplicate key error collection: bhiv_core.task_logs index: _id_ dup key: { _id: ObjectId('6889c3f27232f014712afdf1') }, full error: {'index': 0, 'code': 11000, 'errmsg': "E11000 duplicate key error collection: bhiv_core.task_logs index: _id_ dup key: { _id: ObjectId('6889c3f27232f014712afdf1') }", 'keyPattern': {'_id': 1}, 'keyValue': {'_id': ObjectId('6889c3f27232f014712afdf1')}}
2025-07-30 12:34:18,973 - INFO - reinforcement.reward_functions - Computed reward 1.7 for task b37c44d3-97b1-40ba-ac3e-580a52ba5f65
2025-07-30 12:34:18,973 - INFO - reinforcement.rl_context - Logged RL reward: {'task_id': 'b37c44d3-97b1-40ba-ac3e-580a52ba5f65', 'reward': 1.7, 'metrics': {'clarity_score': 1.0, 'tag_count': 2, 'status': 200}, 'timestamp': '2025-07-30T12:34:18.973573'}
2025-07-30 12:34:18,979 - INFO - reinforcement.replay_buffer - Saved replay buffer to logs/learning_log.json
2025-07-30 12:34:18,979 - INFO - reinforcement.replay_buffer - Added run to replay buffer: b37c44d3-97b1-40ba-ac3e-580a52ba5f65
2025-07-30 12:34:18,979 - INFO - reinforcement.rl_context - Logged RL task: {'task_id': 'b37c44d3-97b1-40ba-ac3e-580a52ba5f65', 'input': 'Main points of pdf given', 'output': {'result': "Here's a summary of the given text in 50-100 words:\n\nA 6-day sprint plan aims to integrate a reinforcement learning (RL) layer into the BHIV pipeline. The goal is to build a multimodal, agentic BHIV pipeline with a lightweight RL layer that logs decisions, tracks rewards, and enables learning. The plan involves integrating the RL layer into components such as the agent router, LLM selector, and learning adapter, and logging decisions and rewards. The RL layer will initially track and log decisions, then make suggestions based on learned experiences. This will enable the pipeline to learn and improve over time.", 'model': 'archive_agent', 'tokens_used': 1967, 'cost_estimate': 0.0, 'status': 200, 'keywords': ['pdf', 'summary'], 'processing_time': 0.5204031467437744, 'inference_time': 0.5204031467437744, 'attempts': 1, 'text_length': 13152, 'text_truncated': True, 'agent': 'archive_agent', 'input_type': 'pdf', 'file_path': 'C:\\Users\\abc1\\AppData\\Local\\Temp\\tmpm40827my.pdf', 'content_length': 13152}, 'agent': 'archive_agent', 'model': 'edumentor_agent', 'timestamp': '2025-07-30T12:34:18.979647'}
2025-07-30 12:34:18,980 - INFO - reinforcement.rl_context - Logged RL action: {'task_id': 'b37c44d3-97b1-40ba-ac3e-580a52ba5f65', 'agent': 'archive_agent', 'model': 'archive_agent', 'action': 'process_task', 'metadata': {'input_type': 'pdf', 'tags': []}, 'timestamp': '2025-07-30T12:34:18.980653'}
2025-07-30 12:34:18,981 - INFO - __main__ - CLI task completed in 3.26s: b37c44d3-97b1-40ba-ac3e-580a52ba5f65
2025-07-30 12:34:18,982 - INFO - reinforcement.reward_functions - Computed reward 1.7 for task b37c44d3-97b1-40ba-ac3e-580a52ba5f65
2025-07-30 12:34:18,982 - INFO - reinforcement.rl_context - Logged RL reward: {'task_id': 'b37c44d3-97b1-40ba-ac3e-580a52ba5f65', 'reward': 1.7, 'metrics': {'clarity_score': 1.0, 'tag_count': 2, 'status': 200}, 'timestamp': '2025-07-30T12:34:18.982676'}
2025-07-30 12:34:18,987 - INFO - reinforcement.replay_buffer - Saved replay buffer to logs/learning_log.json
2025-07-30 12:34:18,987 - INFO - reinforcement.replay_buffer - Added run to replay buffer: b37c44d3-97b1-40ba-ac3e-580a52ba5f65
2025-07-30 12:34:18,988 - INFO - reinforcement.rl_context - Logged RL task: {'task_id': 'b37c44d3-97b1-40ba-ac3e-580a52ba5f65', 'input': 'Main points of pdf given', 'output': {'result': "Here's a summary of the given text in 50-100 words:\n\nA 6-day sprint plan aims to integrate a reinforcement learning (RL) layer into the BHIV pipeline. The goal is to build a multimodal, agentic BHIV pipeline with a lightweight RL layer that logs decisions, tracks rewards, and enables learning. The plan involves integrating the RL layer into components such as the agent router, LLM selector, and learning adapter, and logging decisions and rewards. The RL layer will initially track and log decisions, then make suggestions based on learned experiences. This will enable the pipeline to learn and improve over time.", 'model': 'archive_agent', 'tokens_used': 1967, 'cost_estimate': 0.0, 'status': 200, 'keywords': ['pdf', 'summary'], 'processing_time': 0.5204031467437744, 'inference_time': 0.5204031467437744, 'attempts': 1, 'text_length': 13152, 'text_truncated': True, 'agent': 'archive_agent', 'input_type': 'pdf', 'file_path': 'C:\\Users\\abc1\\AppData\\Local\\Temp\\tmpm40827my.pdf', 'content_length': 13152}, 'agent': 'edumentor_agent', 'model': 'edumentor_agent', 'timestamp': '2025-07-30T12:34:18.988838'}
2025-07-30 12:34:50,490 - INFO - mcp_bridge - [MCP_BRIDGE] Query KB Task ID: 63dbaa0f-8985-4230-937d-5b433c5d15e8 | Query: what is dharma... | Filters: None | Tags: ['semantic_search']
2025-07-30 12:34:50,490 - INFO - reinforcement.agent_selector - No history: selected text_agent for task 63dbaa0f-8985-4230-937d-5b433c5d15e8
2025-07-30 12:34:50,491 - INFO - reinforcement.rl_context - Logged RL action: {'task_id': '63dbaa0f-8985-4230-937d-5b433c5d15e8', 'agent': 'text_agent', 'model': 'none', 'action': 'select_agent', 'metadata': {'task': 'semantic_search', 'input_type': 'text'}, 'timestamp': '2025-07-30T12:34:50.491356'}
2025-07-30 12:34:50,491 - INFO - agents.agent_registry - RL selected agent: text_agent for task: semantic_search
2025-07-30 12:34:50,491 - ERROR - mcp_bridge - [MCP_BRIDGE] KnowledgeAgent not found for task 63dbaa0f-8985-4230-937d-5b433c5d15e8
2025-07-30 12:34:50,492 - ERROR - mcp_bridge - [MCP_BRIDGE] Error processing query-kb task 63dbaa0f-8985-4230-937d-5b433c5d15e8: 404: KnowledgeAgent not found
2025-07-30 12:34:50,492 - INFO - reinforcement.reward_functions - Computed reward 0.0 for task 63dbaa0f-8985-4230-937d-5b433c5d15e8
2025-07-30 12:34:50,492 - INFO - reinforcement.rl_context - Logged RL reward: {'task_id': '63dbaa0f-8985-4230-937d-5b433c5d15e8', 'reward': 0.0, 'metrics': {'clarity_score': 0.0, 'tag_count': 0, 'status': 500}, 'timestamp': '2025-07-30T12:34:50.492383'}
2025-07-30 12:34:50,499 - INFO - reinforcement.replay_buffer - Saved replay buffer to logs/learning_log.json
2025-07-30 12:34:50,499 - INFO - reinforcement.replay_buffer - Added run to replay buffer: 63dbaa0f-8985-4230-937d-5b433c5d15e8
2025-07-30 12:34:50,500 - INFO - reinforcement.rl_context - Logged RL task: {'task_id': '63dbaa0f-8985-4230-937d-5b433c5d15e8', 'input': 'what is dharma', 'output': {'error': 'Query processing failed: 404: KnowledgeAgent not found', 'status': 500}, 'agent': 'text_agent', 'model': 'none', 'timestamp': '2025-07-30T12:34:50.500527'}
2025-07-30 12:34:50,500 - INFO - reinforcement.rl_context - Logged RL action: {'task_id': '63dbaa0f-8985-4230-937d-5b433c5d15e8', 'agent': 'text_agent', 'model': 'none', 'action': 'query_knowledge_base_failed', 'metadata': {'query': 'what is dharma', 'filters': None, 'tags': ['semantic_search']}, 'timestamp': '2025-07-30T12:34:50.500527'}
